---
title: "Update campaign metadata (redial configuration)"
description: "PUT /updateCampaignData/:campaignId - Update redial configuration for a campaign."
slug: "/updateCampaignData/:campaignId"
---

# PUT /updateCampaignData/:campaignId

Update campaign metadata (redial configuration) for a campaign.

**Endpoint**
- **Method:** `PUT`
- **URL:** `/updateCampaignData/:campaignId`
- **Content-Type:** `application/json`
- **Auth:** (depends on server) — possible `401` / `403` responses documented below

## Description

Update the redial configuration for the campaign identified by `campaignId`. The request body accepts a `redialConfig` object that controls automated redial attempts, matching conditions and terminal conditions.

## Request body schema (example)

```json
{
  "redialConfig": {
    "enabled": true,
    "callEntities": [
      {
        "match": { "PTP": "xyx" },
        "intervalMinutes": 10,
        "maxAttempts": 2
      }
    ],
    "callStatus": [
      {
        "match": "busy",
        "intervalMinutes": 10,
        "maxAttempts": 2
      },
      {
        "match": "Failed",
        "intervalMinutes": 10,
        "maxAttempts": 2
      }
    ],
    "terminalConditions": ["connected", { "PTP": "xyx" }]
  }
}
```

## Notes on fields

- `redialConfig.enabled` (boolean) — enable/disable redial behavior.
- `redialConfig.callEntities` (array) — per-entity redial rules:
  - `match` (object): matcher for entity fields (e.g., `{"PTP":"xyx"}`).
  - `intervalMinutes` (integer): minutes between attempts.
  - `maxAttempts` (integer): max retry attempts for this entity.
- `redialConfig.callStatus` (array) — rules per status string or matcher:
  - `match` (`string`|`object`): status to match (e.g., `"busy"`, `"Failed"`).
  - `intervalMinutes`, `maxAttempts`: as above.
- `redialConfig.terminalConditions` (array) — statuses or matchers which stop retries (e.g., `"connected"` or `{"PTP":"xyx"}`).

## Example request (curl)

```bash
curl --location --request PUT 'http://localhost:4000/updateCampaignData/0fff1da6-ace9-4811-9ed6-1d8aba00bc53' --header 'Content-Type: application/json' --data '{
  "redialConfig": {
    "enabled": true,
    "callEntities": [
      { "match": { "PTP": "xyx" }, "intervalMinutes": 10, "maxAttempts": 2 }
    ],
    "callStatus": [
      { "match": "busy", "intervalMinutes": 10, "maxAttempts": 2 },
      { "match": "Failed", "intervalMinutes": 10, "maxAttempts": 2 }
    ],
    "terminalConditions": ["connected", { "PTP": "xyx" }]
  }
}'
```

---

## Responses

### 200 OK

**Description:** Campaign updated successfully. Returns the updated campaign object.

```json
{
  "status": "success",
  "campaignId": "0fff1da6-ace9-4811-9ed6-1d8aba00bc53",
  "data": {
    "redialConfig": {
      "enabled": true,
      "callEntities": [
        { "match": { "PTP": "xyx" }, "intervalMinutes": 10, "maxAttempts": 2 }
      ],
      "callStatus": [
        { "match": "busy", "intervalMinutes": 10, "maxAttempts": 2 },
        { "match": "Failed", "intervalMinutes": 10, "maxAttempts": 2 }
      ],
      "terminalConditions": ["connected", { "PTP": "xyx" }]
    }
  }
}
```

### 201 Created

(Optional) If the implementation treats update as create when missing, returns created resource.

```json
{
  "status": "created",
  "campaignId": "0fff1da6-ace9-4811-9ed6-1d8aba00bc53",
  "data": { /* created campaign */ }
}
```

### 400 Bad Request

**Description:** Request body malformed or validation failed.

```json
{
  "status": "error",
  "error": "Invalid request body",
  "details": [
    { "field": "redialConfig.callEntities[0].intervalMinutes", "message": "must be a positive integer" }
  ]
}
```

### 401 Unauthorized

**Description:** Missing or invalid authentication credentials.

```json
{
  "status": "error",
  "error": "Unauthorized",
  "message": "Authentication required"
}
```

### 403 Forbidden

**Description:** Authenticated but not allowed to modify this campaign.

```json
{
  "status": "error",
  "error": "Forbidden",
  "message": "You do not have access to modify this campaign"
}
```

### 404 Not Found

**Description:** Campaign with the provided ID was not found.

```json
{
  "status": "error",
  "error": "Not Found",
  "message": "Campaign 0fff1da6-ace9-4811-9ed6-1d8aba00bc53 not found"
}
```

### 422 Unprocessable Entity

**Description:** Semantic validation failed (e.g., `maxAttempts` negative, unsupported matcher type).

```json
{
  "status": "error",
  "error": "Unprocessable Entity",
  "details": [
    { "field": "redialConfig.callStatus[1].maxAttempts", "message": "must be >= 0" }
  ]
}
```

### 500 Internal Server Error

**Description:** Unexpected server error.

```json
{
  "status": "error",
  "error": "Internal Server Error",
  "message": "An unexpected error occurred"
}
```

---

## Best practices and validation suggestions

- Validate `campaignId` is a valid UUID.
- Validate `intervalMinutes` is integer >= 0 and `maxAttempts` is integer >= 0.
- Ensure `match` objects contain only allowed fields and values.
- Return clear error details to help callers fix request payloads.
