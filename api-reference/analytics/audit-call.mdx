---
title: "Audit Call"
api: "POST /auditCall"
description: "Add QA audit information to a voice session (call satisfaction, issues, auditor ID)"
---

## Overview

Allows quality assurance teams to audit a call by adding audit satisfaction rating, issue notes, and auditor information to a voice session record.

---

## Request Body

<ParamField body="callId" type="string" required>
  The CallId of the voice session to audit
</ParamField>

<ParamField body="auditSatisfaction" type="string">
  QA satisfaction rating (e.g., `satisfied`, `neutral`, `unsatisfied`)
</ParamField>

<ParamField body="issueText" type="string">
  Detailed notes about issues found during the audit
</ParamField>

<ParamField body="auditorId" type="string" required>
  MongoDB ObjectId of the user performing the audit
</ParamField>

---

## Response (Success)

```json
{
  "status": "success",
  "data": {
    "voiceSession": {
      "_id": "voice_session_object_id",
      "CallId": "call-uuid-abc123",
      "auditDetails": {
        "isAudited": true,
        "auditSatisfaction": "satisfied",
        "auditText": "Call handled properly, customer satisfied with resolution.",
        "auditorId": "507f1f77bcf86cd799439011"
      },
      "CallStartTimeStamp": "2024-01-16T10:30:00.000Z",
      "CallEndTimeStamp": "2024-01-16T10:35:30.000Z",
      "CallDuration": 330,
      "CallStatus": "completed"
    }
  },
  "message": "Audit Saved."
}
```

---

## Error Response (500)

```json
{
  "status": "failed",
  "data": {},
  "message": "Something went wrong!"
}
```

---

## Code Examples

<CodeGroup>

```javascript JavaScript
const response = await fetch('https://vb-seamless-dev-backend.oriserve.com/auditCall', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    callId: 'call-uuid-abc123',
    auditSatisfaction: 'satisfied',
    issueText: 'Call handled properly, customer satisfied with resolution.',
    auditorId: '507f1f77bcf86cd799439011'
  })
});

const data = await response.json();
console.log(data.data.voiceSession.auditDetails);
```

```python Python
import requests

response = requests.post(
    'https://vb-seamless-dev-backend.oriserve.com/auditCall',
    json={
        'callId': 'call-uuid-abc123',
        'auditSatisfaction': 'unsatisfied',
        'issueText': 'Bot did not understand customer intent correctly.',
        'auditorId': '507f1f77bcf86cd799439011'
    }
)

data = response.json()
print(data['data']['voiceSession']['auditDetails'])
```

```bash cURL
curl -X POST https://vb-seamless-dev-backend.oriserve.com/auditCall \
  -H "Content-Type: application/json" \
  -d '{
    "callId": "call-uuid-abc123",
    "auditSatisfaction": "neutral",
    "issueText": "Bot response time was slower than expected.",
    "auditorId": "507f1f77bcf86cd799439011"
  }'
```

</CodeGroup>

---

## Field Descriptions

### Request Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `callId` | string | Yes | Unique call identifier (CallId field in VoiceSession) |
| `auditSatisfaction` | string | No | QA satisfaction rating |
| `issueText` | string | No | Detailed audit notes or issues found |
| `auditorId` | string | Yes | MongoDB ObjectId of the auditor |

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `voiceSession` | object | Updated voice session document with audit details |
| `auditDetails.isAudited` | boolean | Always set to `true` after audit |
| `auditDetails.auditSatisfaction` | string | Satisfaction rating provided by auditor |
| `auditDetails.auditText` | string | Audit notes (stored as `issueText` in request) |
| `auditDetails.auditorId` | string | ObjectId of the user who performed the audit |

---

## Notes

- **Update Behavior:** Uses `findOneAndUpdate` with `{ new: true }` to return the updated voice session document
- **Audit Tracking:** Sets `isAudited: true` automatically when audit is saved
- **Historical Record:** Audit details are permanently stored in the VoiceSession document
- **Use Case:** Quality assurance teams can review calls and add structured audit data for reporting and analytics
- **Auditor ID:** Must be a valid MongoDB ObjectId of a user in the system
- **Call Lookup:** Uses `CallId` field to find the voice session (not MongoDB `_id`)
- The returned `voiceSession` object includes all fields from the VoiceSession document, not just audit details
